---
layout: page
title: "tasks"
date: 2026-01-20T14:15:10-03:00
permalink: /linux/103/5/tasks
categories: [linux]
tags: [103, 5]
hide_footer: true
---

---

*Áreas de Conhecimento:*
- Executar processos em primeiro e segundo plano.
- Marcar um programa para que continue a rodar depois do logout.
- Monitorar processos ativos.
- Selecionar e ordenar processos para serem exibidos.
- Enviar sinais para os processos.

`free`
`bg`
`fg`
`jobs`
`kill`
`nohup`
`ps`
`top`
`uptime`
`pgrep`
`pkill`
`killall`
`watch`
`screen`
`tmux`

---

> GERÊNCIAMENTO DE PROCESSOS

Como criar, matar e ver a execução.

- PID -> ID de um processo
- PPID -> ID de um processo pai

`USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND`
- `USER` usuário executando
- `PID` id do processo
- `%CPU` % de cpu que o processo já usou
- `%MEM` % de memória que o processo já usou
- `VSZ` memória físicas, virtual ou compartilhada que o processo está usando ou já usou
- `RSS` memória física que o processo está usando ou já usou
- `TTY` terminal que foi iniciado
- `STAT` status do processo
- `START` hora que o processo foi iniciado
- `TIME` quanto tempo de cpu que esse processo já usou
- `COMMAND` nome do processo

-> principais uso do `ps`

- `ps -ux` -> exibe mais processos (apenas do usuário) que não estão ligados ao PTS (TTY)
- `ps -uxa` -> exibe mais processos (de todos usuários, inclusive o root)
- `ps -uxaf` -> exibe parentesco de processos em formato de árvore
- `ps -lxa` -> exibe os processos em outro formato, id de usuário `UID`, id do processo pai `PPID` e prioridade `PRI`.
- `ps -wxa` -> exibe os processos em outro formato

-> formas de uso do `ps`

- `ps axu | head`
- `ps axu | grep alguma-coisa`
- `ps u -C nome-processo`

<div class="terminal-box">
  <div class="terminal-header">
    <div class="terminal-controls">
      <span class="win-btn btn-min">_</span>
      <span class="win-btn btn-close">x</span>
    </div>
  </div>
  <div class="auto-term">
fxlip@www:~/files/lpi1$ ps
    PID TTY          TIME CMD
  42840 pts/4    00:00:00 bash
 254137 pts/4    00:00:00 ps
fxlip@www:~/files/lpi1$ ps -u
USER      PID %CPU %MEM    VSZ   RSS TTY    STAT START  TIME COMMAND
fxlip    3120  0.0  0.0 163108  9264 tty2   Ssl+ 10:04  0:00 /usr/libexec/gdm-x-session
fxlip    3258  0.0  0.1 298600 20676 tty2   Sl+  10:04  0:00 /usr/libexec/gnome-session
fxlip    9370  0.0  0.0   9796  6648 pts/0  Ss+  10:06  0:00 /usr/bin/bash --init-file 
fxlip   14215  0.0  0.0  10104  6404 pts/1  Ss   10:16  0:00 /usr/bin/bash --init-file 
fxlip   42840  0.0  0.0  10080  6380 pts/4  Ss   11:05  0:00 bash
fxlip  254485  200  0.0  11464  4864 pts/4  R+   18:07  0:00 ps -u
fxlip@www:~/files/lpi1$ ps -ux | less
fxlip@www:~/files/lpi1$ ps -uxa | less
fxlip@www:~/files/lpi1$ ps -uxaf | less
fxlip@www:~/files/lpi1$ ps -lxa | less
fxlip@www:~/files/lpi1$ ps -wxa | less
fxlip@www:~/files/lpi1$ 
  </div>
</div>

<div class="terminal-box">
  <div class="terminal-header">
    <div class="terminal-controls">
      <span class="win-btn btn-min">_</span>
      <span class="win-btn btn-close">x</span>
    </div>
  </div>
  <div class="auto-term">
fxlip@www:~/files/lpi1$ ps axu | head
USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root           1  0.0  0.0 168916 13476 ?        Ss   10:04   0:01 /sbin/init
root           2  0.0  0.0      0     0 ?        S    10:04   0:00 [kthreadd]
root           3  0.0  0.0      0     0 ?        I<   10:04   0:00 [rcu_gp]
root           4  0.0  0.0      0     0 ?        I<   10:04   0:00 [rcu_par_gp]
root           5  0.0  0.0      0     0 ?        I<   10:04   0:00 [slub_flushwq]
root           6  0.0  0.0      0     0 ?        I<   10:04   0:00 [netns]
root           8  0.0  0.0      0     0 ?        I<   10:04   0:00 [kworker/0:0H-events_highpri]
root          10  0.0  0.0      0     0 ?        I<   10:04   0:00 [mm_percpu_wq]
root          11  0.0  0.0      0     0 ?        I    10:04   0:00 [rcu_tasks_kthread]
fxlip@www:~/files/lpi1$ ps -axu | head
USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root           1  0.0  0.0 168916 13476 ?        Ss   10:04   0:01 /sbin/init
root           2  0.0  0.0      0     0 ?        S    10:04   0:00 [kthreadd]
root           3  0.0  0.0      0     0 ?        I<   10:04   0:00 [rcu_gp]
root           4  0.0  0.0      0     0 ?        I<   10:04   0:00 [rcu_par_gp]
root           5  0.0  0.0      0     0 ?        I<   10:04   0:00 [slub_flushwq]
root           6  0.0  0.0      0     0 ?        I<   10:04   0:00 [netns]
root           8  0.0  0.0      0     0 ?        I<   10:04   0:00 [kworker/0:0H-events_highpri]
root          10  0.0  0.0      0     0 ?        I<   10:04   0:00 [mm_percpu_wq]
root          11  0.0  0.0      0     0 ?        I    10:04   0:00 [rcu_tasks_kthread]
fxlip@www:~/files/lpi1$ ps -ef | head
UID          PID    PPID  C STIME TTY          TIME CMD
root           1       0  0 10:04 ?        00:00:01 /sbin/init
root           2       0  0 10:04 ?        00:00:00 [kthreadd]
root           3       2  0 10:04 ?        00:00:00 [rcu_gp]
root           4       2  0 10:04 ?        00:00:00 [rcu_par_gp]
root           5       2  0 10:04 ?        00:00:00 [slub_flushwq]
root           6       2  0 10:04 ?        00:00:00 [netns]
root           8       2  0 10:04 ?        00:00:00 [kworker/0:0H-events_highpri]
root          10       2  0 10:04 ?        00:00:00 [mm_percpu_wq]
root          11       2  0 10:04 ?        00:00:00 [rcu_tasks_kthread]
fxlip@www:~/files/lpi1$ ps ef | head
    PID TTY      STAT   TIME COMMAND
  42840 pts/4    Ss     0:00 bash SYSTEMD_EXEC_PID=3426 SSH_AUTH_SOCK=/run/user/1000/keyring/ssh SESSION_MANAGER=local/www:@/tmp/.ICE-unix/3405,unix/www:/tmp/.ICE-unix/3405 GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/9d006992_6d58_4e38_a35b_4ea0a0a59fef SSH_AGENT_PID=3298 XDG_CURRENT_DESKTOP=GNOME LANG=pt_BR.UTF-8 LANGUAGE=pt_BR:pt:en ...
fxlip@www:~/files/lpi1$ 
  </div>
</div>

<div class="terminal-box">
  <div class="terminal-header">
    <div class="terminal-controls">
      <span class="win-btn btn-min">_</span>
      <span class="win-btn btn-close">x</span>
    </div>
  </div>
  <div class="auto-term">
fxlip@www:~/files/lpi1$ ps axu | grep photo
fxlip       3231  0.0  0.0 234768  8228 ?        Ssl  10:04   0:00 /usr/libexec/gvfs-gphoto2-volume-monitor
fxlip     270992  0.0  0.0   6356  2144 pts/4    S+   18:38   0:00 grep photo
fxlip@www:~/files/lpi1$ ps axu | grep init
root           1  0.0  0.0 168916 13476 ?        Ss   10:04   0:01 /sbin/init
fxlip     271182  0.0  0.0   6356  2316 pts/4    S+   18:39   0:00 grep init
fxlip@www:~/files/lpi1$ ps u -C openrazer-daemon
USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
fxlip       3063  0.0  0.1 267300 27828 ?        Ssl  10:04   0:00 openrazer-daemon
  </div>
</div>

---

> VISUALIZANDO PROCESSOS EM FORMATO DE ÁRVORE

- `pstree` mostra os processos em formato de árvore na hierarquia de execução
- `pstree -p` mostra o ID do processo

-> o `systemd` tem sido o sistema gerenciador de processo mais usado em detrimento do init

- `pgrep` mostra o ID dos processo apartir de um parâmetro
- `pgrep -u usuario` mostra os ID dos processos de um usuário
- `pgrep -u 1000` mostra os ID dos processos a partir de um UID
- `pgrep -U root`
- `pgrep -U 0` o UID do root é 0


<div class="terminal-box">
  <div class="terminal-header">
    <div class="terminal-controls">
      <span class="win-btn btn-min">_</span>
      <span class="win-btn btn-close">x</span>
    </div>
  </div>
  <div class="auto-term">
fxlip@www:~/files/lpi1$ pstree
systemd─┬─ModemManager───2*[{ModemManager}]
        ├─NetworkManager───2*[{NetworkManager}]
        ├─accounts-daemon───2*[{accounts-daemon}]
        ├─anydesk───5*[{anydesk}]
        ├─avahi-daemon───avahi-daemon
        ├─bluetoothd
        ├─boltd───2*[{boltd}]
        ├─colord───2*[{colord}]
        ├─2*[core───11*[{core}]]
        ├─cron
        ├─cups-browsed───2*[{cups-browsed}]
        ├─cupsd───2*[dbus]
        ├─dbus-daemon
        ├─fwupd───4*[{fwupd}]
        ├─low-memory-moni───2*[{low-memory-moni}]
        ├─nvidia-persiste
        ├─systemd-journal
        ├─systemd-logind
        ├─systemd-machine
        ├─systemd-timesyn───{systemd-timesyn}
        ├─systemd-udevd
        ├─udisksd───4*[{udisksd}]
        ├─upowerd───2*[{upowerd}]
        └─wpa_supplicant
fxlip@www:~/files/lpi1$ pstree -p
systemd(1)─┬─ModemManager(990)─┬─{ModemManager}(1012)
           │                   └─{ModemManager}(1017)
           ├─NetworkManager(958)─┬─{NetworkManager}(1010)
           │                     └─{NetworkManager}(1011)
           ├─accounts-daemon(922)─┬─{accounts-daemon}(1005)
           │                      └─{accounts-daemon}(1008)
           ├─anydesk(1123)─┬─{anydesk}(1223)
           │               ├─{anydesk}(1224)
           │               ├─{anydesk}(1261)
           │               ├─{anydesk}(4050)
           │               └─{anydesk}(4097)
           ├─avahi-daemon(924)───avahi-daemon(955)
           ├─bluetoothd(925)
           ├─boltd(992)─┬─{boltd}(1013)
           │            └─{boltd}(1018)
           ├─colord(1126)─┬─{colord}(1214)
           │              └─{colord}(1219)
           ├─core(2958)─┬─{core}(2980)
           │            ├─{core}(2982)
           │            ├─{core}(2983)
           │            ├─{core}(2992)
           │            ├─{core}(2993)
           │            ├─{core}(2998)
           │            ├─{core}(2999)
           │            ├─{core}(3000)
           │            ├─{core}(3001)
           │            ├─{core}(3002)
           │            └─{core}(3528)
           ├─core(3531)─┬─{core}(3532)
           │            ├─{core}(3533)
           │            ├─{core}(3535)
           │            ├─{core}(3536)
           │            ├─{core}(3537)
           │            ├─{core}(3538)
           │            ├─{core}(3539)
           │            ├─{core}(3541)
           │            ├─{core}(3542)
           │            ├─{core}(3576)
           │            └─{core}(3592)
           ├─cron(926)
           ├─cups-browsed(2948)─┬─{cups-browsed}(2971)
           │                    └─{cups-browsed}(2972)
           ├─cupsd(1061)─┬─dbus(1384)
           │             └─dbus(1385)
           ├─dbus-daemon(927)
           ├─fwupd(4416)─┬─{fwupd}(4422)
           │             ├─{fwupd}(4429)
           │             ├─{fwupd}(4430)
           │             └─{fwupd}(4432)
           ├─low-memory-moni(930)─┬─{low-memory-moni}(997)
           │                      └─{low-memory-moni}(1000)
           ├─nvidia-persiste(935)
           ├─systemd-journal(370)
           ├─systemd-logind(939)
           ├─systemd-machine(946)
           ├─systemd-timesyn(662)───{systemd-timesyn}(845)
           ├─systemd-udevd(395)
           ├─udisksd(951)─┬─{udisksd}(956)
           │              ├─{udisksd}(959)
           │              ├─{udisksd}(994)
           │              └─{udisksd}(1062)
           ├─upowerd(1706)─┬─{upowerd}(1714)
           │               └─{upowerd}(1715)
           └─wpa_supplicant(962)
fxlip@www:~/files/lpi1$ pgrep bash
9370
14215
42840
fxlip@www:~/files/lpi1$ ps axu | grep 42840
fxlip      42840  0.0  0.0  10080  6380 pts/4    Ss   11:05   0:00 bash
fxlip     281259  0.0  0.0   6356  2196 pts/4    S+   18:58   0:00 grep 42840
fxlip@www:~/files/lpi1$ pgrep --help

Uso:
 pgrep [opções] <‎padrão>

Opções:
 -d, --delimiter <‎texto‎>   especifica o delimitador de saída
 -l, --list-name           lista PID e nome do processo
 -a, --list-full           lista PID e linha de comando completa
 -v, --inverse             nega a correspondência
 -w, --lightweight         lista todos os TID
 -c, --count               quantidade de processos correspondentes
 -f, --full                usa nome de processo completo para corresponder
 -g, --pgroup <‎PGID,...>   corresponde os IDs de grupo de processo listados
 -G, --group <‎GID,...>     corresponde IDs de grupo reais
 -i, --ignore-case         corresponde sem diferenciar maiúsculo/minúsculo
 -n, --newest              seleciona os iniciados mais recentes
 -o, --oldest              seleciona os iniciados menos recentes
 -o, --older <‎segundos‎>    seleciona onde mais antigo que segundos
 -P, --parent <‎PPID,...>   corresponde apenas processos filhos do pai dado
 -s, --session <‎SID,...>   corresponde IDs de sessão
 -t, --terminal <‎tty,...>  corresponde por terminal de controle
 -u, --euid <‎ID,...>       corresponde por IDs efetivos
 -U, --uid <‎ID,...>        corresponde por IDs reais
 -x, --exact               corresponde exatamente com o nome de comando
 -F, --pidfile <‎arquivo‎>   lê PIDs do arquivo
 -L, --logpidfile          falha se arquivo PID não estiver travado
 -r, --runstates <‎estado‎>  corresponde estados de execução [D,S,Z,...]
 -A, --ignore-ancestors    exclude our ancestors from results
 --cgroup <‎grp,...>        match by cgroup v2 names
 --ns <‎PID>                corresponde os processos que pertencem ao
                           mesmo espaço de nomes que <‎pid>
 --nslist <‎ns,...>         lista quais espaços de nomes serão considerados
                           para a opção --ns.
                           Opções disponíveis: ipc, mnt, net, pid, user, uts

 -h, --help     exibe esta ajuda e sai
 -V, --version  mostra informação da versão e sai

Para mais detalhes, veja pgrep(1).
fxlip@www:~/files/lpi1$ 
  </div>
</div>

---

> INFORMAÇÕES DA MÁQUINA

Comando top é um dos principais programas para o administrador verificar o funcionamento de um servidor e monitorar como estão em execução os processos da máquina, verificar questões de desempenho e de performance para tomar as ações necessárias.

<div class="terminal-box">
  <div class="terminal-header">
    <div class="terminal-controls">
      <span class="win-btn btn-min">_</span>
      <span class="win-btn btn-close">x</span>
    </div>
  </div>
  <div class="auto-term">
fxlip@www:~$ top

top - 20:33:57 up 14 min,   2 users,   load average:  0,71,  0,78,  0,63
Tarefas: 293 total,    1 em exec.,  292 dormindo,    0 parado,   0 zumbi
%CPU(s): 0,8 us, 0,9 sy, 0,0 ni, 98,3 id, 0,0 wa, 0,0 hi, 0,0 si, 0,0 st 
MB mem: 15577,0 total,   8603,0 free,   4471,5 used,   3391,9 buff/cache     
MB swap: 977,0 total,     977,0 free,      0,0 used.   11105,4 avail mem 

PID   USUARIO PR  NI    VIRT    RES    SHR S %CPU  %MEM  TEMPO+  COMANDO      
3030  root    20   0   25,5g 194080 115216 S  2,0   1,2  0:18.85 Xorg         
3400  fxlip   20   0 5331888 268096 135556 S  1,3   1,7  0:26.22 shell  
210   root   -51   0       0      0      0 S  0,7   0,0  0:01.50 irq
4686  fxlip   20   0 2451284  29652  22712 S  0,7   0,2  0:06.58 rust  
15015 fxlip   20   0  474552  50444  38408 S  0,7   0,3  0:00.64 termi+ 
  15  root    20   0       0      0      0 I  0,3   0,0  0:00.88 rcu 
3687  fxlip   20   0  339952  26408  19288 S  0,3   0,2  0:00.20 gsd 
6916  fxlip   20   0 1409,7g 114764  76916 S  0,3   0,7  0:03.54 code         
7001  fxlip   20   0 3749384 506388 245748 S  0,3   3,2  0:59.60 firefox
   1  root    20   0  168844  13252   9176 S  0,0   0,1  0:01.34 systemd       
   3  root     0 -20       0      0      0 I  0,0   0,0  0:00.00 rcu_gp       
   4  root     0 -20       0      0      0 I  0,0   0,0  0:00.00 rcu_par  
   5  root     0 -20       0      0      0 I  0,0   0,0  0:00.00 flushwq 
   6  root     0 -20       0      0      0 I  0,0   0,0  0:00.00 netns      
  </div>
</div>

As primeiras linhas são as informações do servidor em geral

1. há quanto tempo o servidor está ativo
2. quantos usuários estão logados
3. tarefas
4. load average: média de processos em execução por cpu
5. quantos processos estão em execução
6. quantos processos estão em modo zumbi
7. quantos processos estão parados

Atalhos:

- `[CTRL+M]` ordena por uso de memória
- `[CTRL+P]` ordena por uso de cpu
- `[U]` exibe os processos de um usuário
- `[R]` muda prioridade de execução
- `[N]` muda a quantidade de task exibidas
- `[K]` mata um processo
- `[H]` ou `[?]` para mostrar todas as opções

<div class="terminal-box">
  <div class="terminal-header">
    <div class="terminal-controls">
      <span class="win-btn btn-min">_</span>
      <span class="win-btn btn-close">x</span>
    </div>
  </div>
  <div class="auto-term">
Help for Interactive Commands - procps-ng 4.0.2
Window 1:Def: Cumulative mode DESL.  System: Delay 3,0 secs; Secure mode

  Z,B,E,e   Global: 'Z' colors; 'B' bold; 'E'/'e' summary/task memory sc
  l,t,m,I   Toggle: 'l' load avg; 't' task/cpu; 'm' memory; 'I' Irix mod
  0,1,2,3,4 Toggle: '0' zeros; '1/2/3' cpu/numa views; '4' cpus two abre
  f,X       Fields: 'f' add/remove/order/sort; 'X' increase fixed-width 

  L,&,<,> . Locate: 'L'/'&' find/again; Move sort column: '<'/'>' left/r
  R,H,J,C . Toggle: 'R' Sort; 'H' Threads; 'J' Num justify; 'C' Coordina
  c,i,S,j . Toggle: 'c' Cmd name/line; 'i' Idle; 'S' Time; 'j' Str justi
  x,y     . Toggle highlights: 'x' sort field; 'y' running tasks
  z,b     . Toggle: 'z' color/mono; 'b' bold/reverse (only if 'x' or 'y'
  u,U,o,O . Filter by: 'u'/'U' effective/any user; 'o'/'O' other criteri
  n,#,^O  . Set: 'n'/'#' max tasks displayed; Show: Ctrl+'O' other filte
  V,v,F   . Toggle: 'V' forest view; 'v' hide/show children; 'F' keep fo

  d,k,r,^R 'd' set delay; 'k' kill; 'r' renice; Ctrl+'R' renice autogrou
  ^G,K,N,U  View: ctl groups ^G; cmdline ^K; environment ^N; supp groups
  W,Y,!,^E  Write cfg 'W'; Inspect 'Y'; Combine Cpus '!'; Scale time ^E'
  q         Quit
          ( commands shown with '.' require a visible task display windo
Press 'h' or '?' for help with Windows,
Type 'q' or <‎Esc> to continue 

  </div>
</div>

Em linha de comando:

- `top -b` exibe no shell
- `top -b -d3` define o delay de atualização em 3s
- `top -b -n3` imprime três vezes os resultados no shell
- `top -b -d2 -n5 > process.out` a cada 2s por 5x vai imprimir no arquivo 

---

> ENVIANDO SINAIS E MATANDO PROCESSOS

-> `kill` usado para mandar sinais para processos

- `kill -l` exibe todos os sinais (ID e nome) que podem ser enviados para um processo (SIG é omitido nos comandos)
- `kill -s NOME/NUMERO PID` ou `kill -NOME/NUMERO PID` envia um sinal para um processo 


os principais sinais:

- `$SIGHUP` ou `$-1` pode terminar, reiniciar ou fazer um processo reler suas informações
- `$SIGINT` ou `$-2`  interrompe um processo
- `$SIGQUIT` ou `$-3` fecha ou para um processo
- `$SIGKILL` ou `$-9` mata abrubptamnente um processo 
- `$SIGTERM` ou `$-15` solicita o termino de um processo (padrão) 

<div class="terminal-box">
  <div class="terminal-header">
    <div class="terminal-controls">
      <span class="win-btn btn-min">_</span>
      <span class="win-btn btn-close">x</span>
    </div>
  </div>
  <div class="auto-term">
fxlip@www:~$ kill -l
1) SIGHUP        2) SIGINT	 3) SIGQUIT	 4) SIGILL	 
5) SIGTRAP       6) SIGABRT	 7) SIGBUS	 8) SIGFPE	 
9) SIGKILL	10) SIGUSR1     11) SIGSEGV	12) SIGUSR2	
13) SIGPIPE	14) SIGALRM	15) SIGTERM     16) SIGSTKFLT	
17) SIGCHLD	18) SIGCONT	19) SIGSTOP	20) SIGTSTP
21) SIGTTIN	22) SIGTTOU	23) SIGURG	24) SIGXCPU	
25) SIGXFSZ     26) SIGVTALRM	27) SIGPROF	28) SIGWINCH	
29) SIGIO	30) SIGPWR      31) SIGSYS	34) SIGRTMIN	
35) SIGRTMIN+1	36) SIGRTMIN+2	37) SIGRTMIN+3  38) SIGRTMIN+4	
39) SIGRTMIN+5	40) SIGRTMIN+6	41) SIGRTMIN+7	42) SIGRTMIN+8
43) SIGRTMIN+9	44) SIGRTMIN+10	45) SIGRTMIN+11	46) SIGRTMIN+12
47) SIGRTMIN+13 48) SIGRTMIN+14	49) SIGRTMIN+15	50) SIGRTMAX-14
51) SIGRTMAX-13 52) SIGRTMAX-12 53) SIGRTMAX-11	54) SIGRTMAX-10
55) SIGRTMAX-9	56) SIGRTMAX-8	57) SIGRTMAX-7  58) SIGRTMAX-6	
59) SIGRTMAX-5	60) SIGRTMAX-4	61) SIGRTMAX-3	62) SIGRTMAX-2
63) SIGRTMAX-1	64) SIGRTMAX	
fxlip@www:~$ 
fxlip@www:~$ ps axu | grep firefox
fxlip  7930 21.9  3.7 4285372 602080 ?     Sl 15:25 36:27 /usr/lib/firefox-esr/firefox-esr
fxlip  7936  0.0  0.0   20248   4540 ?     Sl 15:25 0:00 /usr/lib/firefox-esr/crashhelper 
fxlip 96406  0.0  0.0    6356   2320 pts/0 S+ 18:11 0:00 grep firefox
fxlip@www:~$ pgrep firefox
7930
fxlip@www:~$ kill -s SIGKILL 7930
fxlip@www:~$ pgrep firefox
fxlip@www:~$
fxlip@www:~$ pgrep firefox
4557
fxlip@www:~$ kill -s 9 4557
fxlip@www:~$ pgrep firefox
fxlip@www:~$
fxlip@www:~$ kill -9 4557
fxlip@www:~$ kill -SIGKILL 4557
fxlip@www:~$
  </div>
</div>

---

`killall` mata todos os processos de um usuario pelo nome

`pkill` faz um filtro, assim como o pgrep, baseado em algumas características, para mandar um sinal. Não setar um sinal é enviado o 15 como padrão.

<div class="terminal-box">
  <div class="terminal-header">
    <div class="terminal-controls">
      <span class="win-btn btn-min">_</span>
      <span class="win-btn btn-close">x</span>
    </div>
  </div>
  <div class="auto-term">
fxlip@www:~$ killall
Uso:   killall [OPÇÃO]... [--] NOME...
       killall -l, --list
       killall -V, --version

  -e,--exact          exige ocorrência exata para nomes muito longos
  -I,--ignore-case    ignora maiusculização nos nomes de processo
  -g,--process-group  mata o grupo de processo em vez do processo
  -y,--younger-than   mata processos mais novos que TEMPO
  -o,--older-than     mata processos mais velhos que TEMPO
  -i,--interactive    exibe confirmação antes de matar
  -l,--list           lista todos os nomes de sinal conhecidos
  -q,--quiet          não exibe avisos
  -r,--regexp         interpreta NOME como uma expressão regular estendida
  -s,--signal SINAL   envia este sinal em vez de SIGTERM
  -u,--user USUÁRIO   mata apenas processos sendo executados pelo USUÁRIO
  -v,--verbose        relata se o sinal foi enviado com sucesso
  -V,--version        exibe informações de versão
  -w,--wait           espera que os processos morram
  -n,--ns PID         corresponde processos que pertencem aos mesmos
                      espaços de nomes que o PID
  -Z,--context EXPREG mata apenas processo(s) tendo contexto
                      (precisa preceder outros argumentos)

fxlip@www:~$ killall firefox
fxlip@www:~$ killall httpd
fxlip@www:~$ pkill firefox
fxlip@www:~$ pkill -1 firefox -u fxlip
fxlip@www:~$ pkill -h

Uso:
 pkill [opções] <‎padrão>

Opções:
 -<‎sin>, --signal <‎sin>    sinal para enviar (número ou nome)
 -q, --queue <‎valor>       valor inteiro a ser enviado com o sinal
 -e, --echo                exibe o que é terminado
 -c, --count               quantidade de processos correspondentes
 -f, --full                usa nome de processo completo para 
                           corresponder
 -g, --pgroup <‎PGID,...>   corresponde os IDs de grupo de processo 
                           listados
 -G, --group <‎GID,...>     corresponde IDs de grupo reais
 -i, --ignore-case         corresponde sem diferenciar maiúsculo/
                           minúsculo
 -n, --newest              seleciona os iniciados mais recentes
 -o, --oldest              seleciona os iniciados menos recentes
 -o, --older <‎segundos>    seleciona onde mais antigo que segundos
 -P, --parent <‎PPID,...>   corresponde apenas processos filhos do pai 
                           dado
 -s, --session <‎SID,...>   corresponde IDs de sessão
 -t, --terminal <‎tty,...>  corresponde por terminal de controle
 -u, --euid <‎ID,...>       corresponde por IDs efetivos
 -U, --uid <‎ID,...>        corresponde por IDs reais
 -x, --exact               corresponde exatamente com o nome de comando
 -F, --pidfile <‎arquivo>   lê PIDs do arquivo
 -L, --logpidfile          falha se arquivo PID não estiver travado
 -r, --runstates <‎estado>  corresponde estados de execução [D,S,Z,...]
 -A, --ignore-ancestors    exclude our ancestors from results
 --cgroup <‎grp,...>        match by cgroup v2 names
 --ns <‎PID>                corresponde os processos que pertencem ao
                           mesmo espaço de nomes que <‎pid>
 --nslist <‎ns,...>         lista quais espaços de nomes serão 
                           considerados para a opção --ns.
                           Opções: ipc, mnt, net, pid, user, uts

 -h, --help     exibe esta ajuda e sai
 -V, --version  mostra informação da versão e sai

Para mais detalhes, veja pgrep(1).


  </div>
</div>

---

> GERÊNCIAMENTO DE PROCESSOS

`uptime` mostra a quanto tempo a máquina está ativa


`used` vs `free`
- used -> está disponível para uso
- swap -> memória cheia usando hd

`screen` gerenciar janelas dentro de uma sessão do linux, emula abas/tabs
- -> [CTRL+A] + [CTRL+C] = abre nova aba (create)
- -> [CTRL+A] + [CTRL+N] = muda para próxima página (next)
- -> `exit` fecha a aba
- -> [CTRL+A] + [CTRL+T] = sai da sessão do screen (detached)
- -> `screen -r` = retorna para última sessão do screen (return)
- -> `screen top` inicia o screen rodando o top

<div class="terminal-box">
  <div class="terminal-header">
    <div class="terminal-controls">
      <span class="win-btn btn-min">_</span>
      <span class="win-btn btn-close">x</span>
    </div>
  </div>
  <div class="auto-term">
fxlip@www:~$
fxlip@www:~$ uptime
 21:33:39 up 1 day,  3:17,  2 users,  load average: 4,54, 2,23, 1,46
fxlip@www:~$ free
               total       usada       livre    compart.  buff/cache  disponível
Mem.:       15950800     9500436     2615192     1164032     5357952     6450364
Swap:        1000444      126464      873980
fxlip@www:~$ free -m 
               total       usada       livre    compart.  buff/cache  disponível
Mem.:          15576        9167        2664        1119        5214        6409
Swap:            976         123         853
fxlip@www:~$ free -g
               total       usada       livre    compart.  buff/cache  disponível
Mem.:             15           8           2           1           5           6
Swap:              0           0           0
fxlip@www:~$ 
fxlip@www:~$ screen -h
Use: screen [-opts] [cmd [args]]
 or: screen -r [host.tty]

Options:
-4            Resolve hostnames only to IPv4 addresses.
-6            Resolve hostnames only to IPv6 addresses.
-a            Force all capabilities into each window's termcap.
-A -[r|R]     Adapt all windows to the new display width & height.
-c file       Read configuration file instead of '.screenrc'.
-d (-r)       Detach the elsewhere running screen (and reattach here).
-dmS name     Start as daemon: Screen session in detached mode.
-D (-r)       Detach and logout remote (and reattach here).
-D -RR        Do whatever is needed to get a screen session.
-e xy         Change command characters.
-f            Flow control on, -fn = off, -fa = auto.
-h lines      Set the size of the scrollback history buffer.
-i            Interrupt output sooner when flow control is on.
-l            Login mode on (update /var/run/utmp), -ln = off.
-ls [match]   or
-list         Do nothing, just list our SockDir [on possible matches].
-L            Turn on output logging.
-Logfile file Set logfile name.
-m            ignore $STY variable, do create a new screen session.
-O            Choose optimal output rather than exact vt100 emulation.
-p window     Preselect the named window if it exists.
-q            Quiet startup. Exits with non-zero return code if
              unsuccessful.
-Q            Commands will send the response to the stdout of the 
              querying process.
-r [session]  Reattach to a detached screen process.
-R            Reattach if possible, otherwise start a new session.
-s shell      Shell to execute rather than $SHELL.
-S sockname   Name this session <‎pid>.sockname instead of 
              <‎pid>.<‎tty>.<‎host>.
-t title      Set title. (window's name).
-T term       Use term as $TERM for windows, rather than "screen".
-U            Tell screen to use UTF-8 encoding.
-v            Print "Screen version 4.09.00 (GNU) 30-Jan-22".
-wipe [match] Do nothing, just clean up SockDir [on possible matches].
-x            Attach to a not detached screen. (Multi display mode).
-X            Execute <‎cmd> as a screen command in the specified 
              session.
fxlip@www:~$ 
  </div>
</div>

---

> CONTROLE DE TAREFAS: FOREGROUND E BACKGROUND

`fg` -> coloca o último processo em foreground (ao parar o processo, o terminal é liberado)

`bg` -> coloca o último processo em background
- `$bg 2` -> especifica o processo

`&` -> ao final do comando inicia o processo em background

`jobs` -> mostra as tarefas que estão rodando em background
- -> `$jobs -l` mostra com o PID

`$[CTRL+Z]` manda um sinal de parar dentro de um processo em foreground

`nohup` ignora os inputs e envia as saídas para nohup.out, útil para que as saídas de um programa em background não sejam exibidas na tela.

<div class="terminal-box">
  <div class="terminal-header">
    <div class="terminal-controls">
      <span class="win-btn btn-min">_</span>
      <span class="win-btn btn-close">x</span>
    </div>
  </div>
  <div class="auto-term">
fxlip@www:~$ gnome-calculator &
[1] 1531032
fxlip@www:~$ jobs
[1]+  Executando              gnome-calculator &
fxlip@www:~$ firefox &
[2] 1531319
fxlip@www:~$ jobs
[1]-  Executando              gnome-calculator &
[2]+  Concluído               firefox
fxlip@www:~$ gnome-calculator 

^Z
[1]+  Parado                  gnome-calculator
fxlip@www:~$ 
fxlip@www:~$ jobs
[1]+  Parado                  gnome-calculator
fxlip@www:~$ bg
[1]+ gnome-calculator &
fxlip@www:~$ jobs -l
[1]+ 1533571 Executando              gnome-calculator &
fxlip@www:~$ kill 1533571
fxlip@www:~$ jobs -l
[1]+ 1533571 Terminado               gnome-calculator
fxlip@www:~$ jobs -l
fxlip@www:~$ gnome-calculator &
[1] 1540981
fxlip@www:~$ kill -9 1540981
fxlip@www:~$ jobs -l
[1]+ 1540981 Morto                   gnome-calculator
fxlip@www:~$
fxlip@www:~$ nohup firefox &
[1] 1543126
fxlip@www:~$ nohup: ignorando entrada e anexando saída a 'nohup.out'
^C
[1]+  Concluído              nohup firefox
fxlip@www:~$ ls -l nohup.out 
-rw------- 1 fxlip fxlip 0 fev 14 20:52 nohup.out
fxlip@www:~$
  </div>
</div>


---

> MONITORANDO E TRABALHANDO COM PROCESSOS

`watch` executa um programa periódiamente (padrão 2s) mostrando a saída em tela cheia. `$watch -n1` atualiza (reexecuta o comando) a cada 1s

`tmux` é uma ferramenta que serve para controlar vários terminais em uma conexão só (semelhante ao #screen mas com mais funções) [CTRL+B] habilita os comandos
- `$tmux ls` lista as sessões
- `$tmux new -s connection` abre uma nova conexão
- `$tmux attach -t connection` se conecta a uma conexão 


Atalhos:
- `[CTRL+B] + [C]` cria uma nova janela
- `[CTRL+B] + [,]` renomeia a janela
- `[CTRL+B] + [P]` vai para a anterior (previews)
- `[CTRL+B] + [N]` vai para a próxima (next)
- `[CTRL+B] + [L]` vai para a última (last)
- `[CTRL+B] + [O]` rotaciona entre as janelas
- `[CTRL+B] + [0]` vai para a primeira janela
- `[CTRL+B] + [W]` lista as janelas abertas
- `[CTRL+B] + [%]` cria um painel verticalmente
- `[CTRL+B] + ["]` cria um painel horizontalmente
- `[CTRL+B] + ↑ <- ↓ ->` alternam entre os paineis
- `Mantem [CTRL+B] pressionado + ↑ <- ↓ ->` dimensiona o painel
- `[CTRL+B] + [D]` "detached" mas não fecha
- `[CTRL+B] + [&]` pergunta se deseja matar a janela


<div class="terminal-box">
  <div class="terminal-header">
    <div class="terminal-controls">
      <span class="win-btn btn-min">_</span>
      <span class="win-btn btn-close">x</span>
    </div>
  </div>
  <div class="auto-term">
fxlip@www:~$ whatis watch
watch (1)            - executa um programa periodicamente, mostrando 
                      a saída em tela cheia
fxlip@www:~$ watch date
fxlip@www:~$ watch free 
fxlip@www:~$ watch "ps axu | grep firefox"
fxlip@www:~$ watch -n1 "ps axu | grep firefox"
fxlip@www:~$ watch -help

Uso:
 watch [opções] comando

Opções:
  -b, --beep             apita se comando tiver uma saída anormal
  -c, --color            interpreta sequências de estilo e cor ANSI
  -d, --differences[=<‎permanente>]
                         realça alterações entre atualizações
  -e, --errexit          sai se comando tiver uma saída anormal
  -g, --chgexit          sai quando a saída do comando mudar
  -q, --equexit <‎cycles>
                         exit when output from command does not change
  -n, --interval <‎seg>   segundos para esperar entre atualizações
  -p, --precise          tenta executar comando em intervalos precisos
  -t, --no-title         desativa o cabeçalho
  -w, --no-wrap          desativa a quebra de linha
  -x, --exec             passa comando para o exec em vez de "sh -c"

 -h, --help     exibe esta ajuda e sai
 -v, --version  mostra informações da versão e sai

Para mais detalhes, veja watch(1).
fxlip@www:~$ tmux
fxlip@www:~$ *abre uma nova janela*


























[0] 0:bash*                                                  "www" 21:14 
fxlip@www:~$ [C] cria uma nova janela


























[0] 0:bash 1:bash*                                    "www" 21:16 14-fev
fxlip@www:~$ [,] renomeia a janela


























(rename-window) bash  
fxlip@www:~$ [W] lista as janelas
(0) - 0: 3 windows (attached)
(1) ├─> 0: bash
(2) ├─> 1: bash-
(3) └─> 2: nova_janela*









┌ 2 (sort: index) ─────────────────────────────────────────────────────┐
│ fxlip@www:~$                                                         │
│                                                                      │
│                                                                      │
│                                                                      │
│                                                                      │
│                              ┌───┐                                   │
│                              │ 0 │                                   │
│                              └───┘                                   │
│                                                                      │
│                                                                      │
│                                                                      │
│                                                                      │
└──────────────────────────────────────────────────────────────────────┘
[0] 0:bash  1:bash- 2:nova_janela*                 "www" 21:25 14-fev-26
fxlip@www:~$ [%] cria um painel verticalmente
 fxlip@www:~$ asdasd                │ fxlip@www:~$ asddas
                                    │
                                    │
                                    │
                                    │
                                    │
                                    │
                                    │
                                    │
                                    │
                                    │
                                    │
                                    │
                                    │
                                    │
                                    │
                                    │
                                    │
                                    │
                                    │
                                    │
                                    │
                                    │
                                    │
                                    │
[0] 0:janela1* 1:janela2- 2:janela3                "www" 21:29 14-fev-26
fxlip@www:~$ ["] cria um painel verticalmente
 fxlip@www:~$      │ fxlip@www:~$         │ fxlip@www:~$ asddas
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   ├──────────────────────┤
                   │ fxlip@www:~$         │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
[0] 0:janela1* 1:janela2- 2:janela3                 "www" 21:37 14-fev-2
fxlip@www:~$ tmux
[detached (from session 0)]
fxlip@www:~$ tmux ls
0: 3 windows (created Sat Feb 14 21:27:44 2026)
fxlip@www:~$ tmux list-sessions
0: 3 windows (created Sat Feb 14 21:27:44 2026)
fxlip@www:~$ tmux attach -t 0
 fxlip@www:~$      │ fxlip@www:~$         │ fxlip@www:~$ asddas
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   ├──────────────────────┤
                   │ fxlip@www:~$         │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
                   │                      │
[0] 0:janela1* 1:janela2- 2:janela3                 "www" 21:37 14-fev-2
fxlip@www:~$ [D]
[detached (from session 0)]
fxlip@www:~$ tmux new -s connection
fxlip@www:~$ [D]
[detached (from session connection)]
fxlip@www:~$ tmux ls
0: 3 windows (created Sat Feb 14 21:27:44 2026)
connection: 2 windows (created Sat Feb 14 21:51:56 2026)
fxlip@www:~$ tmux attach -t connection
fxlip@www:~$ [&]
[exited]
fxlip@www:~$ tmux ls
0: 3 windows (created Sat Feb 14 21:27:44 2026)
fxlip@www:~$ tmux kill-session -t 0
fxlip@www:~$ tmux ls
no server running on /tmp/tmux-1000/default
fxlip@www:~$ 

  </div>
</div>



---


> PROGRESSO ATÉ A 101-500

[30/105]

<div class="terminal-box">
  <div class="terminal-header">
    <div class="terminal-controls">
      <div class="win-btn btn-min" title="Minimize">−</div>
      <div class="win-btn btn-close" title="Close">✕</div>
    </div>
  </div>
  <div class="terminal-body">
    <div>
      <span class="t-user">fxlip</span><span class="t-gray">@</span><span class="t-host">www</span><span class="t-gray">:</span><span class="t-path">~</span><span class="t-gray">$</span> <span class="t-cmd">./footer.sh</span>
    </div>
    <div class="t-out">
>> @linux/103/6/niceness
++ @linux/103/5/exercicios
++ @linux/103/5/revisao
<< @linux/103/4/pipes
    </div>
  </div>
</div>