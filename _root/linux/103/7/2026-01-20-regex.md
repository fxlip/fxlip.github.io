---
layout: page
title: "regex"
date: 2026-01-20T14:29:18-03:00
permalink: /linux/103/7/regex
categories: [linux]
tags: [103, 7]
hide_footer: true
---

**Este objetivo inclui a criação de expressões regulares simples contendo vários elementos [!] Também inclui o uso de ferramentas de expressão regular para realizar pesquisas em um sistema de arquivos ou no conteúdo de um arquivo [!!]**

*Áreas de Conhecimento:*
- Criar expressões regulares contendo vários elementos.- Entender a diferença entre expressões regulares básicas e estendidas.
- Entender os conceitos de caracteres especiais, classes de caracteres, quantificadores e âncoras.
- Usar ferramentas de expressão regular para realizar pesquisas pelo sistema de arquivos ou no conteúdo de um arquivo.
- Utilizar expressões regulares para apagar, alterar e substituir texto.

`grep`
`egrep`
`fgrep`
`sed`
`regex(7)`

---

Começando com grep e uma introdução ao regex

- grep, intro e regex = 9min (1h) CHECK
- regex e sed = 20min (2h)
- regex = 11min (1h)


---

> REALIZANDO BUSCAS

-> Conjunto de caracteres que vai definir um padrão de texto.

`grep` vai definir a string a ser localizada no arquivo (case-sensitive)
- `$grep -c palavra arquivo.txt` conta quantas ocorrências da palavra existem no arquivo
- `$grep -c palavra *` lista todos os arquivos informando as oocorrencias da palavra (file globbing)
- `$grep -i palavra arquivo.txt` ignora o case-sensitive (mais processamento)
- `$grep -r palavra *` recursivo, entra em cada subdiretório e executa o programa
- `$grep -v palavra arquivo.txt` EXCLUI os resultados com a ocorrência da palavra
- `$grep -E regex arquivo.txt` expande para um conjunto de expressões regulares mais avançadas/abrangentes

`egrep` ==> `$grep -E`

`fgrep` NÃO APLICA expressões regulares (tudo é visto como texto)

**para combinar comandos é só unir as extensões**, ex: `$grep -vi palavra arquivo.txt` para excluir resultados com a ocorrência da palavra `-v` + ignorar o case-sensitive `-i`


<div class="terminal-box">
  <div class="terminal-header">
    <div class="terminal-controls">
      <span class="win-btn btn-min">_</span>
      <span class="win-btn btn-close">x</span>
    </div>
  </div>
  <div class="auto-term">
fxlip@fsociety:~/Documentos/www/files/lpi1$ grep Linux texto.txt
Linux
LinuxUbuntu
Linux Ubuntu
O Sistema Operacional Linux
O Linux
Origem Linux
OLinux
fxlip@fsociety:~/Documentos/www/files/lpi1$ grep linux texto.txt 
server.linux.com
fxlip@fsociety:~/Documentos/www/files/lpi1$ grep -c Linux texto.txt
7
fxlip@fsociety:~/Documentos/www/files/lpi1$ grep -c linux texto.txt 
1
fxlip@fsociety:~/Documentos/www/files/lpi1$ 
fxlip@fsociety:~/Documentos/www/files/lpi1$ grep -c linux *
alunos2.txt:0
alunos3.txt:0
alunos.txt:0
ArquivoGeradoLinux.txt:0
ArquivoGeradoWindows.txt:0
arquivolongo.txt:0
arquivolongo.txt.bz2:0
arquivolongo.txt.gz:0
arquivolongo.txt.xz:0
grep: Aulas: É um diretório
Aulas:0
backup2.tbz:0
backup2.tgz:0
backup.cpio:0
backup.cpio.gz:0
backup.tar:0
backup.tar.bz2:0
backup.tar.gz:0
backup.tar.xz:0
codigo-aluno.txt:0
grep: Curso: É um diretório
Curso:0
grep: Exemplos: É um diretório
Exemplos:0
grep: Exercicios: É um diretório
Exercicios:0
notas-aluno.txt:0
NovoArquivo:0
novo_arquivo2_aa:0
novo_arquivo2_ab:0
novo_arquivo2_ac:0
novo_arquivo2_ad:0
novo_arquivo2_ae:0
novo_arquivo2_af:0
novo_arquivo2_ag:0
novo_arquivo_aa.gz:0
novo_arquivo_ab.gz:0
novo_arquivo_ac.gz:0
novo_arquivo_ad.gz:0
novo-arquivo-log:0
resultado.out:0
revisao1.md:1
saida_echo:0
saida_echo2:0
saida_erro_ls:0
saida_ls:0
saida_ls.out:0
Script_Exemplo.sh:0
Script_Variavel.sh:0
grep: testecpio: É um diretório
testecpio:0
texto.txt:1
xaa:0
xab:0
xac:0
xad:0
fxlip@fsociety:~/Documentos/www/files/lpi1$ grep -c linux t*
grep: testecpio: É um diretório
testecpio:0
texto.txt:1
fxlip@fsociety:~/Documentos/www/files/lpi1$ grep -i linux texto.txt 
Linux
LinuxUbuntu
Linux Ubuntu
O Sistema Operacional Linux
O Linux
Origem Linux
OLinux
server.linux.com
fxlip@fsociety:~/Documentos/www/files/lpi1$ grep -r Linux t*
testecpio/novo_arquivo2_ae:LPIC-2: Linux Engineer
texto.txt:Linux
texto.txt:LinuxUbuntu
texto.txt:Linux Ubuntu
texto.txt:O Sistema Operacional Linux
texto.txt:O Linux
texto.txt:Origem Linux
texto.txt:OLinux
fxlip@fsociety:~/Documentos/www/files/lpi1$ grep Linux texto.txt 
Linux
LinuxUbuntu
Linux Ubuntu
O Sistema Operacional Linux
O Linux
Origem Linux
OLinux
fxlip@fsociety:~/Documentos/www/files/lpi1$ grep -v Linux texto.txt 
# Arquivo de exemplo para expressao regular

O Xubuntu é baseado no Ubuntu

# isso é um comentário
bag
beg
big
bog
bug
beginner
bigger
bugzilla
bege

server.linux.com
fxlip@fsociety:~/Documentos/www/files/lpi1$ grep -vi Linux texto.txt 
# Arquivo de exemplo para expressao regular

O Xubuntu é baseado no Ubuntu

# isso é um comentário
bag
beg
big
bog
bug
beginner
bigger
bugzilla
bege

fxlip@www:~$
  </div>
</div>


---

> EXPRESSÕES REGULARES

Principais oções:

-> uso dos colchetes `[]` faz uma lista com as ocorrências

-> traço `-` delimita o intervalo de caracteres, ex: `[a-u]` de **a até u**

-> circunflexo `^` se conecta com o início e o cifrão `$` com o final da linha

-> `^$` simboliza uma linha em branco

#### Meta caracteres que determinam com deve ser a repetição dos caracteres na busca:

- `$*` exige que o caractere ou grupo anterior ocorra **nenhuma ou muitas vezes**
- `$+` exige que o caractere ou grupo anterior ocorra **uma ou muitas vezes**
- `$?` exige que o caractere ou grupo anterior ocorra **nenhuma ou uma vez**
- `$.` determina qualquer caractere (inclusive espaço) mas **apenas um**
- `$.*` exige que o caractere ou grupo anterior exista e exibe qualquer caractere depois

<div class="terminal-box">
  <div class="terminal-header">
    <div class="terminal-controls">
      <span class="win-btn btn-min">_</span>
      <span class="win-btn btn-close">x</span>
    </div>
  </div>
  <div class="auto-term">
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep "b[aei]g" texto.txt
bag
beg
big
beginner
bigger
bege
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep "b[a-u]g" texto.txt
bag
beg
big
bog
bug
beginner
bigger
bugzilla
bege
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep "^Linux" texto.txt 
Linux
LinuxUbuntu
Linux Ubuntu
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep "Linux$" texto.txt 
Linux
O Sistema Operacional Linux
O Linux
Origem Linux
OLinux
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep "^#" texto.txt 
# Arquivo de exemplo para expressao regular
# isso é um comentário
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep -v "^#" texto.txt 

O Xubuntu é baseado no Ubuntu
Linux
LinuxUbuntu
Linux Ubuntu
O Sistema Operacional Linux
O Linux
Origem Linux
OLinux

bag
beg
big
bog
bug
beginner
bigger
bugzilla
bege

server.linux.com
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep "^$" texto.txt 



fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep -v "^$" texto.txt 
# Arquivo de exemplo para expressao regular
O Xubuntu é baseado no Ubuntu
Linux
LinuxUbuntu
Linux Ubuntu
O Sistema Operacional Linux
O Linux
Origem Linux
OLinux
# isso é um comentário
bag
beg
big
bog
bug
beginner
bigger 
bugzilla
bege
server.linux.com
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep "b[a-i]g*" texto.txt
O Xubuntu é [ba]seado no Ubuntu <---- g pode não aparecer
[bag]
[beg]
[big]
[beg]inner
[bigg]er <--------------------------- ou aparecer muitas vezes
[beg]e
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep "b[a-i]g*e" texto.txt
[bigge]r
[bege]
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep "b[a-i]g+" texto.txt
[bag]
[beg]
[big]
[beg]inner
[bigg]er <--------------------------- g aparece uma ou mais vezes
[beg]e
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep "b[a-i]g?" texto.txt
O Xubuntu é [ba]seado no Ubuntu <---- g pode não aparecer
[bag]
[beg]
[big]
[beg]inner
[big]ger <--------------------------- e se limita a uma ocorrência
[beg]e
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep "b[a-i]g?e" texto.txt
bege
fxlip@fsociety:~/Documentos/www/files/lpi1$ 
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep "b[a-i]g" texto.txt
bag
beg
big
beginner
bigger
bege
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep "b[a-i]g." texto.txt
[begi]nner <------------------------- apartir de quatro caracteres
[bigg]er
[bege]
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep "b[a-i]g..." texto.txt
[beginn]er <------------------------- +3 letras no fim
[bigger]
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep "Linux" texto.txt
[Linux]
[Linux]Ubuntu
[Linux] Ubuntu
O Sistema Operacional [Linux]
O [Linux]
Origem [Linux]
O[Linux]
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep "O.Linux" texto.txt
[O Linux]
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep "O.*Linux" texto.txt
[O Sistema Operacional Linux]
[O Linux]
[Origem Linux]
[OLinux]
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep "O*Linux" texto.txt
[Linux]
[Linux]Ubuntu
[Linux] Ubuntu
O Sistema Operacional [Linux]
O [Linux]
Origem [Linux]
O[Linux]
fxlip@fsociety:~/Documentos/www/files/lpi1$ 
  </div>
</div>

---

> SUBSTITUINDO OU DELETANDO LINHAS

usando o `s/match/replace/` para substituir e o `/match/d` para deletar

`$\` protege (escapa) o caractere seguinte dizendo para o egrep que ele não é parte da expressão regular

<div class="terminal-box">
  <div class="terminal-header">
    <div class="terminal-controls">
      <span class="win-btn btn-min">_</span>
      <span class="win-btn btn-close">x</span>
    </div>
  </div>
  <div class="auto-term">
fxlip@fsociety:~/Documentos/www/files/lpi1$ sed '/Linux/d' texto.txt
# Arquivo de exemplo para expressao regular

O Xubuntu é baseado no Ubuntu

# isso é um comentário
bag
beg
big
bog
bug
beginner
bigger
bugzilla
bege

server.linux.com
fxlip@fsociety:~/Documentos/www/files/lpi1$ sed '/^#/d' texto.txt

O Xubuntu é baseado no Ubuntu
Linux
LinuxUbuntu
Linux Ubuntu
O Sistema Operacional Linux
O Linux
Origem Linux
OLinux

bag
beg
big
bog
bug
beginner
bigger
bugzilla
bege

server.linux.com
fxlip@fsociety:~/Documentos/www/files/lpi1$ sed '/[Ll]inux/d' texto.txt
# Arquivo de exemplo para expressao regular

O Xubuntu é baseado no Ubuntu

# isso é um comentário
bag
beg
big
bog
bug
beginner
bigger
bugzilla
bege

fxlip@fsociety:~/Documentos/www/files/lpi1$ sed 's/[Ll]inux/Windows/' texto.txt
# Arquivo de exemplo para expressao regular

O Xubuntu é baseado no Ubuntu
Windows
WindowsUbuntu
Windows Ubuntu
O Sistema Operacional Windows
O Windows
Origem Windows
OWindows

# isso é um comentário
bag
beg
big
bog
bug
beginner
bigger
bugzilla
bege

server.Windows.com
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep -i "Linux" texto.txt 
Linux
LinuxUbuntu
Linux Ubuntu
O Sistema Operacional Linux
O Linux
Origem Linux
OLinux
server.linux.com
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep -i "Linux." texto.txt LinuxUbuntu
Linux Ubuntu
server.linux.com
fxlip@fsociety:~/Documentos/www/files/lpi1$ egrep -i "Linux\." texto.txt 
server.linux.com
fxlip@fsociety:~/Documentos/www/files/lpi1$ 
fxlip@www:~$
  </div>
</div>

---

> xxx

xxxx
<div class="terminal-box">
  <div class="terminal-header">
    <div class="terminal-controls">
      <span class="win-btn btn-min">_</span>
      <span class="win-btn btn-close">x</span>
    </div>
  </div>
  <div class="auto-term">
fxlip@www:~$
  </div>
</div>

---

> PROGRESSO ATÉ A 101-500

[36/105]

<div class="terminal-box">
  <div class="terminal-header">
    <div class="terminal-controls">
      <div class="win-btn btn-min" title="Minimize">−</div>
      <div class="win-btn btn-close" title="Close">✕</div>
    </div>
  </div>
  <div class="terminal-body">
    <div>
      <span class="t-user">fxlip</span><span class="t-gray">@</span><span class="t-host">www</span><span class="t-gray">:</span><span class="t-path">~</span><span class="t-gray">$</span> <span class="t-cmd">./footer.sh</span>
    </div>
    <div class="t-out">
>> @linux/103/8/vi
++ @linux/103/7/exercicios
++ @linux/103/7/revisao
<< @linux/103/6/niceness
    </div>
  </div>
</div>