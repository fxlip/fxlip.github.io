/* ==========================================================================
   14. SYSTEM HUD (READING DOCK) - v12 PHANTOM ENERGY
   ========================================================================== */

.sys-dock {
  position: fixed;
  bottom: 0; 
  left: 50%; 
  
  width: 90%;
  max-width: 640px; 
  height: 60px; 
  
  background-color: var(--code-bg); 
  border-top: 1px solid #333545; 
  border-radius: 0;
  box-shadow: 0 -10px 40px rgba(0, 0, 0, 0.6);
  
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  
  transform: translate(-50%, 100%);
  transition: transform 0.4s cubic-bezier(0.22, 1, 0.36, 1);
}

.sys-dock.active {
  transform: translate(-50%, 0);
}

.sys-dock.finished {
  /* Move para baixo (fora da tela) */
  transform: translate(-50%, 150%) !important; 
  
  /* Desaparece */
  opacity: 0;
  
  /* Impede cliques fantasmas */
  pointer-events: none;
}

.sys-dock-container {
  width: 100%;
  padding: 0 25px; 
  display: flex;
  align-items: center;
  justify-content: center; 
}

.sys-dock-meta { display: none !important; }

.sys-dock-track {
  flex-grow: 1;
  height: 14px; 
  background-color: rgba(40, 42, 54, 0.4);
  border: 1px solid #333545;
  border-radius: 2px;
  position: relative;
  overflow: hidden;
  
  /* Textura de fundo ultra sutil */
  background-image: repeating-linear-gradient(
    90deg,
    transparent,
    transparent 2px,
    rgba(68, 71, 90, 0.1) 2px,
    rgba(68, 71, 90, 0.1) 4px
  );
}

/* A Barra de Progresso (Elegância Monocromática) */
.sys-dock-bar {
  height: 100%;
  position: relative;
  width: 0%;
  transition: width 0.1s linear; 
  
  /* [ALVO] Roxo Fantasma -> Rosa Sólido */
  background: linear-gradient(
    90deg, 
    rgba(189, 147, 249, 0.1) 0%,  /* Roxo (Dracula Purple) a 10% Opacidade */
    rgba(189, 147, 249, 0.6) 50%, /* Roxo a 60% */
    var(--link-color) 100%        /* Rosa Neon (Dracula Pink) Puro */
  );
  
  /* Máscara de Segmentação */
  mask-image: repeating-linear-gradient(
    90deg,
    black,        
    black 2px,
    transparent 2px, 
    transparent 4px
  );
  -webkit-mask-image: repeating-linear-gradient(
    90deg,
    black,
    black 2px,
    transparent 2px,
    transparent 4px
  );
  
  /* Glow interno suave em Rosa */
  box-shadow: 0 0 20px rgba(255, 121, 198, 0.2);
}

/* A Cabeça que Respira (Sincronizada com o Rosa) */
.sys-dock-head {
  position: absolute;
  right: 0; top: 0; bottom: 0;
  
  width: 2px; 
  background-color: #ffffff;
  z-index: 2;
  
  animation: sys-dock-pulse-pink 2.5s ease-in-out infinite;
}

/* Respiração Lenta e Profunda */
@keyframes sys-dock-pulse-pink {
  0% {
    box-shadow: 0 0 2px #fff, 0 0 5px var(--link-color);
    opacity: 0.6;
  }
  50% {
    /* Brilho expandido com aura dupla */
    box-shadow: 
      0 0 8px #fff, 
      0 0 15px var(--link-color), 
      0 0 30px rgba(189, 147, 249, 0.5); /* Aura Roxa secundária */
    opacity: 1;
  }
  100% {
    box-shadow: 0 0 2px #fff, 0 0 5px var(--link-color);
    opacity: 0.6;
  }
}

body.dock-active { padding-bottom: 80px; }

@keyframes voltage-flicker {
  0%   { opacity: 1; text-shadow: 0 0 10px rgba(189, 147, 249, 0.4); }
  3%   { opacity: 0.8; text-shadow: none; }
  6%   { opacity: 1; text-shadow: 0 0 10px rgba(189, 147, 249, 0.4); }
  7%   { opacity: 1; text-shadow: 0 0 10px rgba(189, 147, 249, 0.4); }
  8%   { opacity: 0.9; text-shadow: none; }
  9%   { opacity: 1; text-shadow: 0 0 10px rgba(189, 147, 249, 0.4); }
  100% { opacity: 1; text-shadow: 0 0 10px rgba(189, 147, 249, 0.4); }
}